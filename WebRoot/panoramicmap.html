<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"> 
<meta name="apple-mobile-web-app-capable" content="yes"> 
<meta name="apple-mobile-web-app-status-bar-style" content="black"> 
<meta name="format-detection" content="telephone=no"> 
  <style type="text/css">
    body, html{width: 100%;height: 100%;margin:0;font-family:"微软雅黑";}
    #panorama {margin-top:90px;width:100%; height: 100%;}
    #result {width:100%;font-size:12px;}
  </style>
  <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=nG5KQzyy8wlHcGEkTRHVAFyBkkB88cXS"></script>
  <script type="text/javascript" src="https://res.wx.qq.com/open/js/jweixin-1.3.0.js"></script>
  <title>附近全景类型</title>
</head>
<body>
  <body bgcolor="#f5f5f5">
  <div id="position">
  	<img src="images/position.jpg" width="6.3%" height="6.3%" style="position:absolute;left:20px;top:17px">
  </div>
  
  <div id="result" style="position:absolute;left:20px;top:60px">
    POI类型显示: 
      <select id="setPanoramaPOIType" style="size:20px" onchange="test.poiType(this)">
        <option value="0">无</option>
        <option value="1">酒店</option>
        <option value="2">餐饮</option>
        <option value="3">电影院</option>
        <option value="4">公交站点</option>
        <option value="5">室内景点</option>
      </select>
  </div>
  <button style="position:absolute;right:30px;top:57px;border-radius:6px"  type="button" onclick="btnAction()">点我</button>
  <div id="panorama"></div>
</body>
</html>
 
<script type="text/javascript">


function btnAction(){
wx.miniProgram.switchTab({
url:'pages/Index/Index',
})
}

  var panorama = new BMap.Panorama('panorama'); 
  panorama.setPosition(new BMap.Point(116.321463, 39.984738));
  panorama.setPov({pitch: 6, heading: 138});

  document.getElementById("setPanoramaPOIType").onchange = function(){
    var selectValue = this.value;
    switch(selectValue) {
      case '0': 
        panorama.setPanoramaPOIType(BMAP_PANORAMA_POI_NONE); //无(隐藏所有POI)
        break;
      case '1': 
        panorama.setPanoramaPOIType(BMAP_PANORAMA_POI_HOTEL); //酒店
        panorama.setPov({pitch: 6, heading: 138}); //手动参数，场景内已有该室内景，旋转后可见，现调整角度到该POI点的位置，方便开发者可见
        break;
      case '2': 
        panorama.setPanoramaPOIType(BMAP_PANORAMA_POI_CATERING); //餐饮
        panorama.setPov({pitch: 6, heading: 138});
        break;
      case '3': 
        panorama.setPanoramaPOIType(BMAP_PANORAMA_POI_MOVIE); //电影院
        panorama.setPov({pitch: 6, heading: 138});
        break;
      case '4': 
        panorama.setPanoramaPOIType(BMAP_PANORAMA_POI_TRANSIT); //公交站点，该场景（id为0100220000130902152251545J3）附近无站点POI
        break;
      case '5': 
        panorama.setPanoramaPOIType(BMAP_PANORAMA_POI_INDOOR_SCENE); //室内景点
        panorama.setPov({
          pitch: 18.960000000000015, 
          heading: 350.16741512558605
        }); 
        break;
      default:
        //无
    } 
  };
</script>

